<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- Terms and Policy -->
    <LinearLayout
        android:id="@+id/terms_policy_overlay"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:padding="24dp"
        android:gravity="center"
        android:visibility="visible">

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="16dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="8dp"
            android:layout_gravity="center">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <!-- App Logo/Icon -->
                <ImageView
                    android:id="@+id/app_logo"
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:layout_gravity="center_horizontal"
                    android:layout_marginBottom="16dp"
                    android:src="@drawable/logo33"
                    android:contentDescription="App Logo" />

                <!-- Welcome Title -->
                <TextView
                    android:id="@+id/welcome_title"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Welcome to MediConnect"
                    android:textSize="24sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_text_color"
                    android:gravity="center"
                    android:layout_marginBottom="8dp" />

                <!-- Subtitle -->
                <TextView
                    android:id="@+id/welcome_subtitle"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Before you get started, please review our terms and policies"
                    android:textSize="14sp"
                    android:textColor="@color/secondary_text_color"
                    android:gravity="center"
                    android:layout_marginBottom="24dp" />

                <!-- Terms and Conditions Section -->
                <ScrollView
                    android:layout_width="match_parent"
                    android:layout_height="200dp"
                    android:layout_marginBottom="16dp"
                    android:background="@color/light_gray"
                    android:padding="16dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Terms of Service"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:textColor="@color/primary_text_color"
                            android:layout_marginBottom="8dp" />

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="By using this application, you agree to comply with and be bound by the following terms and conditions of use. Please read these terms carefully before using our service.\n\n1. Acceptance of Terms\nBy accessing and using this application, you accept and agree to be bound by the terms and provision of this agreement.\n\n2. Use License\nPermission is granted to temporarily use this application for personal, non-commercial transitory viewing only.\n\n3. User Account\nYou are responsible for safeguarding the password and for maintaining the confidentiality of your account."
                            android:textSize="12sp"
                            android:textColor="@color/secondary_text_color"
                            android:lineSpacingExtra="2dp"
                            android:layout_marginBottom="16dp" />

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Privacy Policy"
                            android:textSize="16sp"
                            android:textStyle="bold"
                            android:textColor="@color/primary_text_color"
                            android:layout_marginBottom="8dp" />

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="We respect your privacy and are committed to protecting your personal data.
                            This privacy policy explains how we collect, use, and protect your information.\n\n1.
                            Information We Collect\nWe may collect information you provide directly to us,
                            such as when you create an account or contact us.
                            \n\n2. How We Use Information\nWe use the information we collect to provide, maintain, and improve our services.
                            \n\n3. Information Sharing\nWe do not sell, trade, or otherwise transfer your personal information to third parties without your consent."
                            android:textSize="12sp"
                            android:textColor="@color/secondary_text_color"
                            android:lineSpacingExtra="2dp" />

                    </LinearLayout>

                </ScrollView>

                <!-- Checkbox for Agreement -->
                <CheckBox
                    android:id="@+id/checkbox_agree_terms"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="I agree to the Terms of Service and Privacy Policy"
                    android:textSize="14sp"
                    android:textColor="@color/primary_text_color"
                    android:layout_marginBottom="8dp"
                    android:buttonTint="@color/blue_700" />


                <!-- Action Buttons -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="end">

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btn_decline"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Decline"
                        android:textColor="@color/secondary_text_color"
                        style="@style/Widget.Material3.Button.TextButton"
                        android:layout_marginEnd="8dp" />

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btn_accept"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Accept &amp; Continue"
                        android:enabled="false"
                        style="@style/Widget.Material3.Button" />

                </LinearLayout>

            </LinearLayout>

        </androidx.cardview.widget.CardView>

    </LinearLayout>

    <!-- Main App Bar Layout (Initially Hidden) -->
    <LinearLayout
        android:id="@+id/main_app_layout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:visibility="gone">

        <com.google.android.material.appbar.AppBarLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:theme="@style/AppTheme.PopupOverlay">

            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar_main_activity"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                android:background="?attr/colorPrimary"
                app:popupTheme="@style/AppTheme.PopupOverlay">

            </androidx.appcompat.widget.Toolbar>

        </com.google.android.material.appbar.AppBarLayout>

        <!-- This will include the main_content layout -->
        <include layout="@layout/main_content" />

    </LinearLayout>

</androidx.coordinatorlayout.widget.CoordinatorLayout>